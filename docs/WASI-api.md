<!--
This document is derived from the file docs/cloudabi.md at revision
af51ede669dbca0875d20893dae7f760b052b238 of the CloudABI repository
hosted here: https://github.com/NuxiNL/cloudlibc

The upstream file bears the following notice, though note that the
file is no longer generated, and contains significant edits:

Copyright (c) 2016-2017 Nuxi (https://nuxi.nl/) and contributors.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
1. Redistributions of source code must retain the above copyright
   notice, this list of conditions and the following disclaimer.
2. Redistributions in binary form must reproduce the above copyright
   notice, this list of conditions and the following disclaimer in the
   documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.

This file is automatically generated. Do not edit.

Source: https://github.com/NuxiNL/cloudabi
-->

# WASI API

## System calls

- [`__wasi_clock_res_get()`](#clock_res_get)
- [`__wasi_clock_time_get()`](#clock_time_get)
- [`__wasi_fd_close()`](#fd_close)
- [`__wasi_fd_create2()`](#fd_create2)
- [`__wasi_fd_datasync()`](#fd_datasync)
- [`__wasi_fd_dup()`](#fd_dup)
- [`__wasi_fd_pread()`](#fd_pread)
- [`__wasi_fd_pwrite()`](#fd_pwrite)
- [`__wasi_fd_read()`](#fd_read)
- [`__wasi_fd_replace()`](#fd_replace)
- [`__wasi_fd_seek()`](#fd_seek)
- [`__wasi_fd_stat_get()`](#fd_stat_get)
- [`__wasi_fd_stat_put()`](#fd_stat_put)
- [`__wasi_fd_sync()`](#fd_sync)
- [`__wasi_fd_write()`](#fd_write)
- [`__wasi_file_advise()`](#file_advise)
- [`__wasi_file_allocate()`](#file_allocate)
- [`__wasi_file_create()`](#file_create)
- [`__wasi_file_link()`](#file_link)
- [`__wasi_file_open()`](#file_open)
- [`__wasi_file_readdir()`](#file_readdir)
- [`__wasi_file_readlink()`](#file_readlink)
- [`__wasi_file_rename()`](#file_rename)
- [`__wasi_file_stat_fget()`](#file_stat_fget)
- [`__wasi_file_stat_fput()`](#file_stat_fput)
- [`__wasi_file_stat_get()`](#file_stat_get)
- [`__wasi_file_stat_put()`](#file_stat_put)
- [`__wasi_file_symlink()`](#file_symlink)
- [`__wasi_file_unlink()`](#file_unlink)
- [`__wasi_poll()`](#poll)
- [`__wasi_proc_exit()`](#proc_exit)
- [`__wasi_proc_raise()`](#proc_raise)
- [`__wasi_random_get()`](#random_get)
- [`__wasi_sched_yield()`](#sched_yield)
- [`__wasi_sock_recv()`](#sock_recv)
- [`__wasi_sock_send()`](#sock_send)
- [`__wasi_sock_shutdown()`](#sock_shutdown)

### <a href="#clock_res_get" name="clock_res_get"></a>`__wasi_clock_res_get()`

Obtains the resolution of a clock.

Inputs:

- <a href="#clock_res_get.clock_id" name="clock_res_get.clock_id"></a><code>[\_\_wasi\_clockid\_t](#clockid) <strong>clock\_id</strong></code>

    The clock for which the resolution needs to be
    returned.

Outputs:

- <a href="#clock_res_get.resolution" name="clock_res_get.resolution"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>resolution</strong></code>

    The resolution of the clock.

### <a href="#clock_time_get" name="clock_time_get"></a>`__wasi_clock_time_get()`

Obtains the time value of a clock.

Inputs:

- <a href="#clock_time_get.clock_id" name="clock_time_get.clock_id"></a><code>[\_\_wasi\_clockid\_t](#clockid) <strong>clock\_id</strong></code>

    The clock for which the time needs to be
    returned.

- <a href="#clock_time_get.precision" name="clock_time_get.precision"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>precision</strong></code>

    The maximum lag (exclusive) that the returned
    time value may have, compared to its actual
    value.

Outputs:

- <a href="#clock_time_get.time" name="clock_time_get.time"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>time</strong></code>

    The time value of the clock.

### <a href="#fd_close" name="fd_close"></a>`__wasi_fd_close()`

Closes a file descriptor.

Inputs:

- <a href="#fd_close.fd" name="fd_close.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor that needs to be closed.

### <a href="#fd_create2" name="fd_create2"></a>`__wasi_fd_create2()`

Creates a pair of file descriptors.

Inputs:

- <a href="#fd_create2.type" name="fd_create2.type"></a><code>[\_\_wasi\_filetype\_t](#filetype) <strong>type</strong></code>

    Possible values:

    - [`__WASI_FILETYPE_SOCKET_DGRAM`](#filetype.socket_dgram)

        Creates a UNIX datagram socket pair.

    - [`__WASI_FILETYPE_SOCKET_STREAM`](#filetype.socket_stream)

        Creates a UNIX byte-stream socket
        pair.

Outputs:

- <a href="#fd_create2.fd1" name="fd_create2.fd1"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd1</strong></code>

    The first file descriptor of the pair.

- <a href="#fd_create2.fd2" name="fd_create2.fd2"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd2</strong></code>

    The second file descriptor of the pair.

### <a href="#fd_datasync" name="fd_datasync"></a>`__wasi_fd_datasync()`

Synchronizes the data of a file to disk.

Inputs:

- <a href="#fd_datasync.fd" name="fd_datasync.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor of the file whose data
    needs to be synchronized to disk.

### <a href="#fd_dup" name="fd_dup"></a>`__wasi_fd_dup()`

Duplicates a file descriptor.

Inputs:

- <a href="#fd_dup.from" name="fd_dup.from"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>from</strong></code>

    The file descriptor that needs to be
    duplicated.

Outputs:

- <a href="#fd_dup.fd" name="fd_dup.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The new file descriptor.

### <a href="#fd_pread" name="fd_pread"></a>`__wasi_fd_pread()`

Reads from a file descriptor, without using and updating the
file descriptor's offset.

Inputs:

- <a href="#fd_pread.fd" name="fd_pread.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor from which data should be
    read.

- <a href="#fd_pread.iovs" name="fd_pread.iovs"></a><code>const [\_\_wasi\_iovec\_t](#iovec) *<strong>iovs</strong></code> and <a href="#fd_pread.iovs_len" name="fd_pread.iovs_len"></a><code>size\_t <strong>iovs\_len</strong></code>

    List of scatter/gather vectors where data
    should be stored.

- <a href="#fd_pread.offset" name="fd_pread.offset"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>offset</strong></code>

    The offset within the file at which reading
    should start.

Outputs:

- <a href="#fd_pread.nread" name="fd_pread.nread"></a><code>size\_t <strong>nread</strong></code>

    The number of bytes read.

### <a href="#fd_pwrite" name="fd_pwrite"></a>`__wasi_fd_pwrite()`

Writes to a file descriptor, without using and updating the
file descriptor's offset.

Inputs:

- <a href="#fd_pwrite.fd" name="fd_pwrite.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor to which data should be
    written.

- <a href="#fd_pwrite.iovs" name="fd_pwrite.iovs"></a><code>const [\_\_wasi\_ciovec\_t](#ciovec) *<strong>iovs</strong></code> and <a href="#fd_pwrite.iovs_len" name="fd_pwrite.iovs_len"></a><code>size\_t <strong>iovs\_len</strong></code>

    List of scatter/gather vectors where data
    should be retrieved.

- <a href="#fd_pwrite.offset" name="fd_pwrite.offset"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>offset</strong></code>

    The offset within the file at which writing
    should start.

Outputs:

- <a href="#fd_pwrite.nwritten" name="fd_pwrite.nwritten"></a><code>size\_t <strong>nwritten</strong></code>

    The number of bytes written.

### <a href="#fd_read" name="fd_read"></a>`__wasi_fd_read()`

Reads from a file descriptor.

Inputs:

- <a href="#fd_read.fd" name="fd_read.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor from which data should be
    read.

- <a href="#fd_read.iovs" name="fd_read.iovs"></a><code>const [\_\_wasi\_iovec\_t](#iovec) *<strong>iovs</strong></code> and <a href="#fd_read.iovs_len" name="fd_read.iovs_len"></a><code>size\_t <strong>iovs\_len</strong></code>

    List of scatter/gather vectors where data
    should be stored.

Outputs:

- <a href="#fd_read.nread" name="fd_read.nread"></a><code>size\_t <strong>nread</strong></code>

    The number of bytes read.

### <a href="#fd_replace" name="fd_replace"></a>`__wasi_fd_replace()`

Atomically replaces a file descriptor by a copy of another
file descriptor.

Due to the strong focus on thread safety, this environment
does not provide a mechanism to duplicate a file descriptor to
an arbitrary number, like dup2(). This would be prone to race
conditions, as an actual file descriptor with the same number
could be allocated by a different thread at the same time.

This system call provides a way to atomically replace file
descriptors, which would disappear if dup2() were to be
removed entirely.

Inputs:

- <a href="#fd_replace.from" name="fd_replace.from"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>from</strong></code>

    The file descriptor that needs to be copied.

- <a href="#fd_replace.to" name="fd_replace.to"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>to</strong></code>

    The file descriptor that needs to be
    overwritten.

### <a href="#fd_seek" name="fd_seek"></a>`__wasi_fd_seek()`

Moves the offset of the file descriptor.

Inputs:

- <a href="#fd_seek.fd" name="fd_seek.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor whose offset has to be
    moved.

- <a href="#fd_seek.offset" name="fd_seek.offset"></a><code>[\_\_wasi\_filedelta\_t](#filedelta) <strong>offset</strong></code>

    The number of bytes to move.

- <a href="#fd_seek.whence" name="fd_seek.whence"></a><code>[\_\_wasi\_whence\_t](#whence) <strong>whence</strong></code>

    Relative to which position the move should
    take place.

Outputs:

- <a href="#fd_seek.newoffset" name="fd_seek.newoffset"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>newoffset</strong></code>

    The new offset of the file descriptor,
    relative to the start of the file.

### <a href="#fd_stat_get" name="fd_stat_get"></a>`__wasi_fd_stat_get()`

Gets attributes of a file descriptor.

Inputs:

- <a href="#fd_stat_get.fd" name="fd_stat_get.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor whose attributes have to
    be obtained.

- <a href="#fd_stat_get.buf" name="fd_stat_get.buf"></a><code>[\_\_wasi\_fdstat\_t](#fdstat) *<strong>buf</strong></code>

    The buffer where the file descriptor's
    attributes are stored.

### <a href="#fd_stat_put" name="fd_stat_put"></a>`__wasi_fd_stat_put()`

Adjusts attributes of a file descriptor.

Inputs:

- <a href="#fd_stat_put.fd" name="fd_stat_put.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor whose attributes have to
    be adjusted.

- <a href="#fd_stat_put.buf" name="fd_stat_put.buf"></a><code>const [\_\_wasi\_fdstat\_t](#fdstat) *<strong>buf</strong></code>

    The desired values of the file descriptor
    attributes that are adjusted.

- <a href="#fd_stat_put.flags" name="fd_stat_put.flags"></a><code>[\_\_wasi\_fdsflags\_t](#fdsflags) <strong>flags</strong></code>

    A bitmask indicating which attributes have to
    be adjusted.

### <a href="#fd_sync" name="fd_sync"></a>`__wasi_fd_sync()`

Synchronizes the data and metadata of a file to disk.

Inputs:

- <a href="#fd_sync.fd" name="fd_sync.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor of the file whose data
    and metadata needs to be synchronized to disk.

### <a href="#fd_write" name="fd_write"></a>`__wasi_fd_write()`

Writes to a file descriptor.

Inputs:

- <a href="#fd_write.fd" name="fd_write.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor to which data should be
    written.

- <a href="#fd_write.iovs" name="fd_write.iovs"></a><code>const [\_\_wasi\_ciovec\_t](#ciovec) *<strong>iovs</strong></code> and <a href="#fd_write.iovs_len" name="fd_write.iovs_len"></a><code>size\_t <strong>iovs\_len</strong></code>

    List of scatter/gather vectors where data
    should be retrieved.

Outputs:

- <a href="#fd_write.nwritten" name="fd_write.nwritten"></a><code>size\_t <strong>nwritten</strong></code>

    The number of bytes written.

### <a href="#file_advise" name="file_advise"></a>`__wasi_file_advise()`

Provides file advisory information on a file descriptor.

Inputs:

- <a href="#file_advise.fd" name="file_advise.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor for which to provide file
    advisory information.

- <a href="#file_advise.offset" name="file_advise.offset"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>offset</strong></code>

    The offset within the file to which the
    advisory applies.

- <a href="#file_advise.len" name="file_advise.len"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>len</strong></code>

    The length of the region to which the advisory
    applies.

- <a href="#file_advise.advice" name="file_advise.advice"></a><code>[\_\_wasi\_advice\_t](#advice) <strong>advice</strong></code>

    The advice.

### <a href="#file_allocate" name="file_allocate"></a>`__wasi_file_allocate()`

Forces the allocation of space in a file.

Inputs:

- <a href="#file_allocate.fd" name="file_allocate.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file in which the space should be
    allocated.

- <a href="#file_allocate.offset" name="file_allocate.offset"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>offset</strong></code>

    The offset at which the allocation should
    start.

- <a href="#file_allocate.len" name="file_allocate.len"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>len</strong></code>

    The length of the area that is allocated.

### <a href="#file_create" name="file_create"></a>`__wasi_file_create()`

Creates a file of a specified type.

Inputs:

- <a href="#file_create.fd" name="file_create.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The working directory at which the resolution
    of the file to be created starts.

- <a href="#file_create.path" name="file_create.path"></a><code>const char *<strong>path</strong></code> and <a href="#file_create.path_len" name="file_create.path_len"></a><code>size\_t <strong>path\_len</strong></code>

    The path at which the file should be created.

- <a href="#file_create.type" name="file_create.type"></a><code>[\_\_wasi\_filetype\_t](#filetype) <strong>type</strong></code>

    Possible values:

    - [`__WASI_FILETYPE_DIRECTORY`](#filetype.directory)

        Creates a directory.

### <a href="#file_link" name="file_link"></a>`__wasi_file_link()`

Creates a hard link.

Inputs:

- <a href="#file_link.fd1" name="file_link.fd1"></a><code>[\_\_wasi\_lookup\_t](#lookup) <strong>fd1</strong></code>

    The working directory at which the resolution
    of the source path starts.

- <a href="#file_link.path1" name="file_link.path1"></a><code>const char *<strong>path1</strong></code> and <a href="#file_link.path1_len" name="file_link.path1_len"></a><code>size\_t <strong>path1\_len</strong></code>

    The source path of the file that should be
    hard linked.

- <a href="#file_link.fd2" name="file_link.fd2"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd2</strong></code>

    The working directory at which the resolution
    of the destination path starts.

- <a href="#file_link.path2" name="file_link.path2"></a><code>const char *<strong>path2</strong></code> and <a href="#file_link.path2_len" name="file_link.path2_len"></a><code>size\_t <strong>path2\_len</strong></code>

    The destination path at which the hard link
    should be created.

### <a href="#file_open" name="file_open"></a>`__wasi_file_open()`

Opens a file.

Inputs:

- <a href="#file_open.dirfd" name="file_open.dirfd"></a><code>[\_\_wasi\_lookup\_t](#lookup) <strong>dirfd</strong></code>

    The working directory at which the resolution
    of the file to be opened starts.

- <a href="#file_open.path" name="file_open.path"></a><code>const char *<strong>path</strong></code> and <a href="#file_open.path_len" name="file_open.path_len"></a><code>size\_t <strong>path\_len</strong></code>

    The path of the file that should be opened.

- <a href="#file_open.oflags" name="file_open.oflags"></a><code>[\_\_wasi\_oflags\_t](#oflags) <strong>oflags</strong></code>

    The method at which the file should be opened.

- <a href="#file_open.fds" name="file_open.fds"></a><code>const [\_\_wasi\_fdstat\_t](#fdstat) *<strong>fds</strong></code>

    [`__wasi_fdstat_t::fs_rights_base`](#fdstat.fs_rights_base) and
    [`__wasi_fdstat_t::fs_rights_inheriting`](#fdstat.fs_rights_inheriting) specify the
    initial rights of the newly created file
    descriptor. The operating system is allowed to
    return a file descriptor with fewer rights
    than specified, if and only if those rights do
    not apply to the type of file being opened.

    [`__wasi_fdstat_t::fs_flags`](#fdstat.fs_flags) specifies the initial flags
    of the file descriptor.

    [`__wasi_fdstat_t::fs_filetype`](#fdstat.fs_filetype) is ignored.

Outputs:

- <a href="#file_open.fd" name="file_open.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor of the file that has been
    opened.

### <a href="#file_readdir" name="file_readdir"></a>`__wasi_file_readdir()`

Reads directory entries from a directory.

When successful, the contents of the output buffer consist of
a sequence of directory entries. Each directory entry consists
of a [`__wasi_dirent_t`](#dirent) object, followed by [`__wasi_dirent_t::d_namlen`](#dirent.d_namlen) bytes
holding the name of the directory entry.

This system call fills the output buffer as much as possible,
potentially truncating the last directory entry. This allows
the caller to grow its read buffer size in case it's too small
to fit a single large directory entry, or skip the oversized
directory entry.

Inputs:

- <a href="#file_readdir.fd" name="file_readdir.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The directory from which to read the directory
    entries.

- <a href="#file_readdir.buf" name="file_readdir.buf"></a><code>void *<strong>buf</strong></code> and <a href="#file_readdir.buf_len" name="file_readdir.buf_len"></a><code>size\_t <strong>buf\_len</strong></code>

    The buffer where directory entries are stored.

- <a href="#file_readdir.cookie" name="file_readdir.cookie"></a><code>[\_\_wasi\_dircookie\_t](#dircookie) <strong>cookie</strong></code>

    The location within the directory to start
    reading.

Outputs:

- <a href="#file_readdir.bufused" name="file_readdir.bufused"></a><code>size\_t <strong>bufused</strong></code>

    The number of bytes stored in the read buffer.
    If less than the size of the read buffer, the
    end of the directory has been reached.

### <a href="#file_readlink" name="file_readlink"></a>`__wasi_file_readlink()`

Reads the contents of a symbolic link.

Inputs:

- <a href="#file_readlink.fd" name="file_readlink.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The working directory at which the resolution
    of the path of the symbolic starts.

- <a href="#file_readlink.path" name="file_readlink.path"></a><code>const char *<strong>path</strong></code> and <a href="#file_readlink.path_len" name="file_readlink.path_len"></a><code>size\_t <strong>path\_len</strong></code>

    The path of the symbolic link whose contents
    should be read.

- <a href="#file_readlink.buf" name="file_readlink.buf"></a><code>char *<strong>buf</strong></code> and <a href="#file_readlink.buf_len" name="file_readlink.buf_len"></a><code>size\_t <strong>buf\_len</strong></code>

    The buffer where the contents of the symbolic
    link should be stored.

Outputs:

- <a href="#file_readlink.bufused" name="file_readlink.bufused"></a><code>size\_t <strong>bufused</strong></code>

    The number of bytes placed in the buffer.

### <a href="#file_rename" name="file_rename"></a>`__wasi_file_rename()`

Renames a file.

Inputs:

- <a href="#file_rename.fd1" name="file_rename.fd1"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd1</strong></code>

    The working directory at which the resolution
    of the source path starts.

- <a href="#file_rename.path1" name="file_rename.path1"></a><code>const char *<strong>path1</strong></code> and <a href="#file_rename.path1_len" name="file_rename.path1_len"></a><code>size\_t <strong>path1\_len</strong></code>

    The source path of the file that should be
    renamed.

- <a href="#file_rename.fd2" name="file_rename.fd2"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd2</strong></code>

    The working directory at which the resolution
    of the destination path starts.

- <a href="#file_rename.path2" name="file_rename.path2"></a><code>const char *<strong>path2</strong></code> and <a href="#file_rename.path2_len" name="file_rename.path2_len"></a><code>size\_t <strong>path2\_len</strong></code>

    The destination path to which the file should
    be renamed.

### <a href="#file_stat_fget" name="file_stat_fget"></a>`__wasi_file_stat_fget()`

Gets attributes of a file by file descriptor.

Inputs:

- <a href="#file_stat_fget.fd" name="file_stat_fget.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor whose attributes have to
    be obtained.

- <a href="#file_stat_fget.buf" name="file_stat_fget.buf"></a><code>[\_\_wasi\_filestat\_t](#filestat) *<strong>buf</strong></code>

    The buffer where the file's attributes are
    stored.

### <a href="#file_stat_fput" name="file_stat_fput"></a>`__wasi_file_stat_fput()`

Adjusts attributes of a file by file descriptor.

Inputs:

- <a href="#file_stat_fput.fd" name="file_stat_fput.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The file descriptor whose attributes have to
    be adjusted.

- <a href="#file_stat_fput.buf" name="file_stat_fput.buf"></a><code>const [\_\_wasi\_filestat\_t](#filestat) *<strong>buf</strong></code>

    The desired values of the file attributes that
    are adjusted.

- <a href="#file_stat_fput.flags" name="file_stat_fput.flags"></a><code>[\_\_wasi\_fsflags\_t](#fsflags) <strong>flags</strong></code>

    A bitmask indicating which attributes have to
    be adjusted.

### <a href="#file_stat_get" name="file_stat_get"></a>`__wasi_file_stat_get()`

Gets attributes of a file by path.

Inputs:

- <a href="#file_stat_get.fd" name="file_stat_get.fd"></a><code>[\_\_wasi\_lookup\_t](#lookup) <strong>fd</strong></code>

    The working directory at which the resolution
    of the path whose attributes have to be
    obtained starts.

- <a href="#file_stat_get.path" name="file_stat_get.path"></a><code>const char *<strong>path</strong></code> and <a href="#file_stat_get.path_len" name="file_stat_get.path_len"></a><code>size\_t <strong>path\_len</strong></code>

    The path of the file whose attributes have to
    be obtained.

- <a href="#file_stat_get.buf" name="file_stat_get.buf"></a><code>[\_\_wasi\_filestat\_t](#filestat) *<strong>buf</strong></code>

    The buffer where the file's attributes are
    stored.

### <a href="#file_stat_put" name="file_stat_put"></a>`__wasi_file_stat_put()`

Adjusts attributes of a file by path.

Inputs:

- <a href="#file_stat_put.fd" name="file_stat_put.fd"></a><code>[\_\_wasi\_lookup\_t](#lookup) <strong>fd</strong></code>

    The working directory at which the resolution
    of the path whose attributes have to be
    adjusted starts.

- <a href="#file_stat_put.path" name="file_stat_put.path"></a><code>const char *<strong>path</strong></code> and <a href="#file_stat_put.path_len" name="file_stat_put.path_len"></a><code>size\_t <strong>path\_len</strong></code>

    The path of the file whose attributes have to
    be adjusted.

- <a href="#file_stat_put.buf" name="file_stat_put.buf"></a><code>const [\_\_wasi\_filestat\_t](#filestat) *<strong>buf</strong></code>

    The desired values of the file attributes that
    are adjusted.

- <a href="#file_stat_put.flags" name="file_stat_put.flags"></a><code>[\_\_wasi\_fsflags\_t](#fsflags) <strong>flags</strong></code>

    A bitmask indicating which attributes have to
    be adjusted.

### <a href="#file_symlink" name="file_symlink"></a>`__wasi_file_symlink()`

Creates a symbolic link.

Inputs:

- <a href="#file_symlink.path1" name="file_symlink.path1"></a><code>const char *<strong>path1</strong></code> and <a href="#file_symlink.path1_len" name="file_symlink.path1_len"></a><code>size\_t <strong>path1\_len</strong></code>

    The contents of the symbolic link.

- <a href="#file_symlink.fd" name="file_symlink.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The working directory at which the resolution
    of the destination path starts.

- <a href="#file_symlink.path2" name="file_symlink.path2"></a><code>const char *<strong>path2</strong></code> and <a href="#file_symlink.path2_len" name="file_symlink.path2_len"></a><code>size\_t <strong>path2\_len</strong></code>

    The destination path at which the symbolic
    link should be created.

### <a href="#file_unlink" name="file_unlink"></a>`__wasi_file_unlink()`

Unlinks a file, or removes a directory.

Inputs:

- <a href="#file_unlink.fd" name="file_unlink.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The working directory at which the resolution
    of the path starts.

- <a href="#file_unlink.path" name="file_unlink.path"></a><code>const char *<strong>path</strong></code> and <a href="#file_unlink.path_len" name="file_unlink.path_len"></a><code>size\_t <strong>path\_len</strong></code>

    The path that needs to be unlinked or removed.

- <a href="#file_unlink.flags" name="file_unlink.flags"></a><code>[\_\_wasi\_ulflags\_t](#ulflags) <strong>flags</strong></code>

    Possible values:

    - [`__WASI_UNLINK_REMOVEDIR`](#ulflags.removedir)

        If set, attempt to remove a directory.
        Otherwise, unlink a file.

### <a href="#poll" name="poll"></a>`__wasi_poll()`

Concurrently polls for the occurrence of a set of events.

Inputs:

- <a href="#poll.in" name="poll.in"></a><code>const [\_\_wasi\_subscription\_t](#subscription) *<strong>in</strong></code>

    The events to which to subscribe.

- <a href="#poll.out" name="poll.out"></a><code>[\_\_wasi\_event\_t](#event) *<strong>out</strong></code>

    The events that have occurred.

- <a href="#poll.nsubscriptions" name="poll.nsubscriptions"></a><code>size\_t <strong>nsubscriptions</strong></code>

    Both the number of subscriptions and events.

Outputs:

- <a href="#poll.nevents" name="poll.nevents"></a><code>size\_t <strong>nevents</strong></code>

    The number of events stored.

### <a href="#proc_exit" name="proc_exit"></a>`__wasi_proc_exit()`

Terminates the process normally.

Inputs:

- <a href="#proc_exit.rval" name="proc_exit.rval"></a><code>[\_\_wasi\_exitcode\_t](#exitcode) <strong>rval</strong></code>

    The exit code returned by the process.

Does not return.

### <a href="#proc_raise" name="proc_raise"></a>`__wasi_proc_raise()`

Sends a signal to the process of the calling thread.

Inputs:

- <a href="#proc_raise.sig" name="proc_raise.sig"></a><code>[\_\_wasi\_signal\_t](#signal) <strong>sig</strong></code>

    The signal condition that should be triggered.

### <a href="#random_get" name="random_get"></a>`__wasi_random_get()`

Obtains random data from the kernel random number generator.

As this interface is not guaranteed to be fast, it is advised
that the random data obtained through this system call is used
as the seed for a userspace pseudo-random number generator.

Inputs:

- <a href="#random_get.buf" name="random_get.buf"></a><code>void *<strong>buf</strong></code> and <a href="#random_get.buf_len" name="random_get.buf_len"></a><code>size\_t <strong>buf\_len</strong></code>

    The buffer that needs to be filled with random
    data.

### <a href="#sock_recv" name="sock_recv"></a>`__wasi_sock_recv()`

Receives a message on a socket.

Inputs:

- <a href="#sock_recv.sock" name="sock_recv.sock"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>sock</strong></code>

    The socket on which a message should be
    received.

- <a href="#sock_recv.in" name="sock_recv.in"></a><code>const [\_\_wasi\_recv\_in\_t](#recv_in) *<strong>in</strong></code>

    Input parameters.

- <a href="#sock_recv.out" name="sock_recv.out"></a><code>[\_\_wasi\_recv\_out\_t](#recv_out) *<strong>out</strong></code>

    Output parameters.

### <a href="#sock_send" name="sock_send"></a>`__wasi_sock_send()`

Sends a message on a socket.

Inputs:

- <a href="#sock_send.sock" name="sock_send.sock"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>sock</strong></code>

    The socket on which a message should be sent.

- <a href="#sock_send.in" name="sock_send.in"></a><code>const [\_\_wasi\_send\_in\_t](#send_in) *<strong>in</strong></code>

    Input parameters.

- <a href="#sock_send.out" name="sock_send.out"></a><code>[\_\_wasi\_send\_out\_t](#send_out) *<strong>out</strong></code>

    Output parameters.

### <a href="#sock_shutdown" name="sock_shutdown"></a>`__wasi_sock_shutdown()`

Shuts down socket send and receive channels.

Inputs:

- <a href="#sock_shutdown.sock" name="sock_shutdown.sock"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>sock</strong></code>

    The socket that needs its channels shut down.

- <a href="#sock_shutdown.how" name="sock_shutdown.how"></a><code>[\_\_wasi\_sdflags\_t](#sdflags) <strong>how</strong></code>

    Which channels on the socket need to be shut
    down.

### <a href="#sched_yield" name="sched_yield"></a>`__wasi_sched_yield()`

Temporarily yields execution of the calling thread.

## Types

### <a href="#advice" name="advice"></a>`__wasi_advice_t` (`uint8_t`)

File or memory access pattern advisory information.

Used by [`__wasi_file_advise()`](#file_advise) and [`__wasi_mem_advise()`](#mem_advise).

Possible values:

- <a href="#advice.dontneed" name="advice.dontneed"></a>**`__WASI_ADVICE_DONTNEED`**

    The application expects that it will not access the
    specified data in the near future.

- <a href="#advice.noreuse" name="advice.noreuse"></a>**`__WASI_ADVICE_NOREUSE`**

    The application expects to access the specified data
    once and then not reuse it thereafter.

- <a href="#advice.normal" name="advice.normal"></a>**`__WASI_ADVICE_NORMAL`**

    The application has no advice to give on its behavior
    with respect to the specified data.

- <a href="#advice.random" name="advice.random"></a>**`__WASI_ADVICE_RANDOM`**

    The application expects to access the specified data
    in a random order.

- <a href="#advice.sequential" name="advice.sequential"></a>**`__WASI_ADVICE_SEQUENTIAL`**

    The application expects to access the specified data
    sequentially from lower offsets to higher offsets.

- <a href="#advice.willneed" name="advice.willneed"></a>**`__WASI_ADVICE_WILLNEED`**

    The application expects to access the specified data
    in the near future.

### <a href="#ciovec" name="ciovec"></a>`__wasi_ciovec_t` (`struct`)

A region of memory for scatter/gather writes.

Used by [`__wasi_send_in_t`](#send_in), [`__wasi_fd_pwrite()`](#fd_pwrite), and [`__wasi_fd_write()`](#fd_write).

Members:

- <a href="#ciovec.buf" name="ciovec.buf"></a><code>const void *<strong>buf</strong></code> and <a href="#ciovec.buf_len" name="ciovec.buf_len"></a><code>size\_t <strong>buf\_len</strong></code>

    The address and length of the buffer to be written.

### <a href="#clockid" name="clockid"></a>`__wasi_clockid_t` (`uint32_t`)

Identifiers for clocks.

Used by [`__wasi_subscription_t`](#subscription), [`__wasi_clock_res_get()`](#clock_res_get), and [`__wasi_clock_time_get()`](#clock_time_get).

Possible values:

- <a href="#clockid.monotonic" name="clockid.monotonic"></a>**`__WASI_CLOCK_MONOTONIC`**

    The system-wide monotonic clock, which is defined as a
    clock measuring real time, whose value cannot be
    adjusted and which cannot have negative clock jumps.

    The epoch of this clock is undefined. The absolute
    time value of this clock therefore has no meaning.

- <a href="#clockid.process_cputime_id" name="clockid.process_cputime_id"></a>**`__WASI_CLOCK_PROCESS_CPUTIME_ID`**

    The CPU-time clock associated with the current
    process.

- <a href="#clockid.realtime" name="clockid.realtime"></a>**`__WASI_CLOCK_REALTIME`**

    The system-wide clock measuring real time. Time value
    zero corresponds with 1970-01-01T00:00:00Z.

- <a href="#clockid.thread_cputime_id" name="clockid.thread_cputime_id"></a>**`__WASI_CLOCK_THREAD_CPUTIME_ID`**

    The CPU-time clock associated with the current thread.

### <a href="#device" name="device"></a>`__wasi_device_t` (`uint64_t`)

Identifier for a device containing a file system. Can be used
in combination with [`__wasi_inode_t`](#inode) to uniquely identify a file on the
local system.

Used by [`__wasi_filestat_t`](#filestat).

### <a href="#dircookie" name="dircookie"></a>`__wasi_dircookie_t` (`uint64_t`)

A reference to the offset of a directory entry.

Used by [`__wasi_dirent_t`](#dirent) and [`__wasi_file_readdir()`](#file_readdir).

Special values:

- <a href="#dircookie.start" name="dircookie.start"></a>**`__WASI_DIRCOOKIE_START`**

    Permanent reference to the first directory entry
    within a directory.

### <a href="#dirent" name="dirent"></a>`__wasi_dirent_t` (`struct`)

A directory entry.

Members:

- <a href="#dirent.d_next" name="dirent.d_next"></a><code>[\_\_wasi\_dircookie\_t](#dircookie) <strong>d\_next</strong></code>

    The offset of the next directory entry stored in this
    directory.

- <a href="#dirent.d_ino" name="dirent.d_ino"></a><code>[\_\_wasi\_inode\_t](#inode) <strong>d\_ino</strong></code>

    The serial number of the file referred to by this
    directory entry.

- <a href="#dirent.d_namlen" name="dirent.d_namlen"></a><code>uint32\_t <strong>d\_namlen</strong></code>

    The length of the name of the directory entry.

- <a href="#dirent.d_type" name="dirent.d_type"></a><code>[\_\_wasi\_filetype\_t](#filetype) <strong>d\_type</strong></code>

    The type of the file referred to by this directory
    entry.

### <a href="#errno" name="errno"></a>`__wasi_errno_t` (`uint16_t`)

Error codes returned by system calls.

Not all of these error codes are returned by the system calls
provided by this environment, but are either used in userspace
exclusively or merely provided for alignment with POSIX.

Used by [`__wasi_event_t`](#event).

Possible values:

- <a href="#errno.success" name="errno.success"></a>**`__WASI_ESUCCESS`**

    No error occurred. System call completed successfully.

- <a href="#errno.2big" name="errno.2big"></a>**`__WASI_E2BIG`**

    Argument list too long.

- <a href="#errno.acces" name="errno.acces"></a>**`__WASI_EACCES`**

    Permission denied.

- <a href="#errno.addrinuse" name="errno.addrinuse"></a>**`__WASI_EADDRINUSE`**

    Address in use.

- <a href="#errno.addrnotavail" name="errno.addrnotavail"></a>**`__WASI_EADDRNOTAVAIL`**

    Address not available.

- <a href="#errno.afnosupport" name="errno.afnosupport"></a>**`__WASI_EAFNOSUPPORT`**

    Address family not supported.

- <a href="#errno.again" name="errno.again"></a>**`__WASI_EAGAIN`**

    Resource unavailable, or operation would block.

- <a href="#errno.already" name="errno.already"></a>**`__WASI_EALREADY`**

    Connection already in progress.

- <a href="#errno.badf" name="errno.badf"></a>**`__WASI_EBADF`**

    Bad file descriptor.

- <a href="#errno.badmsg" name="errno.badmsg"></a>**`__WASI_EBADMSG`**

    Bad message.

- <a href="#errno.busy" name="errno.busy"></a>**`__WASI_EBUSY`**

    Device or resource busy.

- <a href="#errno.canceled" name="errno.canceled"></a>**`__WASI_ECANCELED`**

    Operation canceled.

- <a href="#errno.child" name="errno.child"></a>**`__WASI_ECHILD`**

    No child processes.

- <a href="#errno.connaborted" name="errno.connaborted"></a>**`__WASI_ECONNABORTED`**

    Connection aborted.

- <a href="#errno.connrefused" name="errno.connrefused"></a>**`__WASI_ECONNREFUSED`**

    Connection refused.

- <a href="#errno.connreset" name="errno.connreset"></a>**`__WASI_ECONNRESET`**

    Connection reset.

- <a href="#errno.deadlk" name="errno.deadlk"></a>**`__WASI_EDEADLK`**

    Resource deadlock would occur.

- <a href="#errno.destaddrreq" name="errno.destaddrreq"></a>**`__WASI_EDESTADDRREQ`**

    Destination address required.

- <a href="#errno.dom" name="errno.dom"></a>**`__WASI_EDOM`**

    Mathematics argument out of domain of function.

- <a href="#errno.dquot" name="errno.dquot"></a>**`__WASI_EDQUOT`**

    Reserved.

- <a href="#errno.exist" name="errno.exist"></a>**`__WASI_EEXIST`**

    File exists.

- <a href="#errno.fault" name="errno.fault"></a>**`__WASI_EFAULT`**

    Bad address.

- <a href="#errno.fbig" name="errno.fbig"></a>**`__WASI_EFBIG`**

    File too large.

- <a href="#errno.hostunreach" name="errno.hostunreach"></a>**`__WASI_EHOSTUNREACH`**

    Host is unreachable.

- <a href="#errno.idrm" name="errno.idrm"></a>**`__WASI_EIDRM`**

    Identifier removed.

- <a href="#errno.ilseq" name="errno.ilseq"></a>**`__WASI_EILSEQ`**

    Illegal byte sequence.

- <a href="#errno.inprogress" name="errno.inprogress"></a>**`__WASI_EINPROGRESS`**

    Operation in progress.

- <a href="#errno.intr" name="errno.intr"></a>**`__WASI_EINTR`**

    Interrupted function.

- <a href="#errno.inval" name="errno.inval"></a>**`__WASI_EINVAL`**

    Invalid argument.

- <a href="#errno.io" name="errno.io"></a>**`__WASI_EIO`**

    I/O error.

- <a href="#errno.isconn" name="errno.isconn"></a>**`__WASI_EISCONN`**

    Socket is connected.

- <a href="#errno.isdir" name="errno.isdir"></a>**`__WASI_EISDIR`**

    Is a directory.

- <a href="#errno.loop" name="errno.loop"></a>**`__WASI_ELOOP`**

    Too many levels of symbolic links.

- <a href="#errno.mfile" name="errno.mfile"></a>**`__WASI_EMFILE`**

    File descriptor value too large.

- <a href="#errno.mlink" name="errno.mlink"></a>**`__WASI_EMLINK`**

    Too many links.

- <a href="#errno.msgsize" name="errno.msgsize"></a>**`__WASI_EMSGSIZE`**

    Message too large.

- <a href="#errno.multihop" name="errno.multihop"></a>**`__WASI_EMULTIHOP`**

    Reserved.

- <a href="#errno.nametoolong" name="errno.nametoolong"></a>**`__WASI_ENAMETOOLONG`**

    Filename too long.

- <a href="#errno.netdown" name="errno.netdown"></a>**`__WASI_ENETDOWN`**

    Network is down.

- <a href="#errno.netreset" name="errno.netreset"></a>**`__WASI_ENETRESET`**

    Connection aborted by network.

- <a href="#errno.netunreach" name="errno.netunreach"></a>**`__WASI_ENETUNREACH`**

    Network unreachable.

- <a href="#errno.nfile" name="errno.nfile"></a>**`__WASI_ENFILE`**

    Too many files open in system.

- <a href="#errno.nobufs" name="errno.nobufs"></a>**`__WASI_ENOBUFS`**

    No buffer space available.

- <a href="#errno.nodev" name="errno.nodev"></a>**`__WASI_ENODEV`**

    No such device.

- <a href="#errno.noent" name="errno.noent"></a>**`__WASI_ENOENT`**

    No such file or directory.

- <a href="#errno.noexec" name="errno.noexec"></a>**`__WASI_ENOEXEC`**

    Executable file format error.

- <a href="#errno.nolck" name="errno.nolck"></a>**`__WASI_ENOLCK`**

    No locks available.

- <a href="#errno.nolink" name="errno.nolink"></a>**`__WASI_ENOLINK`**

    Reserved.

- <a href="#errno.nomem" name="errno.nomem"></a>**`__WASI_ENOMEM`**

    Not enough space.

- <a href="#errno.nomsg" name="errno.nomsg"></a>**`__WASI_ENOMSG`**

    No message of the desired type.

- <a href="#errno.noprotoopt" name="errno.noprotoopt"></a>**`__WASI_ENOPROTOOPT`**

    Protocol not available.

- <a href="#errno.nospc" name="errno.nospc"></a>**`__WASI_ENOSPC`**

    No space left on device.

- <a href="#errno.nosys" name="errno.nosys"></a>**`__WASI_ENOSYS`**

    Function not supported.

- <a href="#errno.notconn" name="errno.notconn"></a>**`__WASI_ENOTCONN`**

    The socket is not connected.

- <a href="#errno.notdir" name="errno.notdir"></a>**`__WASI_ENOTDIR`**

    Not a directory or a symbolic link to a directory.

- <a href="#errno.notempty" name="errno.notempty"></a>**`__WASI_ENOTEMPTY`**

    Directory not empty.

- <a href="#errno.notrecoverable" name="errno.notrecoverable"></a>**`__WASI_ENOTRECOVERABLE`**

    State not recoverable.

- <a href="#errno.notsock" name="errno.notsock"></a>**`__WASI_ENOTSOCK`**

    Not a socket.

- <a href="#errno.notsup" name="errno.notsup"></a>**`__WASI_ENOTSUP`**

    Not supported, or operation not supported on socket.

- <a href="#errno.notty" name="errno.notty"></a>**`__WASI_ENOTTY`**

    Inappropriate I/O control operation.

- <a href="#errno.nxio" name="errno.nxio"></a>**`__WASI_ENXIO`**

    No such device or address.

- <a href="#errno.overflow" name="errno.overflow"></a>**`__WASI_EOVERFLOW`**

    Value too large to be stored in data type.

- <a href="#errno.ownerdead" name="errno.ownerdead"></a>**`__WASI_EOWNERDEAD`**

    Previous owner died.

- <a href="#errno.perm" name="errno.perm"></a>**`__WASI_EPERM`**

    Operation not permitted.

- <a href="#errno.pipe" name="errno.pipe"></a>**`__WASI_EPIPE`**

    Broken pipe.

- <a href="#errno.proto" name="errno.proto"></a>**`__WASI_EPROTO`**

    Protocol error.

- <a href="#errno.protonosupport" name="errno.protonosupport"></a>**`__WASI_EPROTONOSUPPORT`**

    Protocol not supported.

- <a href="#errno.prototype" name="errno.prototype"></a>**`__WASI_EPROTOTYPE`**

    Protocol wrong type for socket.

- <a href="#errno.range" name="errno.range"></a>**`__WASI_ERANGE`**

    Result too large.

- <a href="#errno.rofs" name="errno.rofs"></a>**`__WASI_EROFS`**

    Read-only file system.

- <a href="#errno.spipe" name="errno.spipe"></a>**`__WASI_ESPIPE`**

    Invalid seek.

- <a href="#errno.srch" name="errno.srch"></a>**`__WASI_ESRCH`**

    No such process.

- <a href="#errno.stale" name="errno.stale"></a>**`__WASI_ESTALE`**

    Reserved.

- <a href="#errno.timedout" name="errno.timedout"></a>**`__WASI_ETIMEDOUT`**

    Connection timed out.

- <a href="#errno.txtbsy" name="errno.txtbsy"></a>**`__WASI_ETXTBSY`**

    Text file busy.

- <a href="#errno.xdev" name="errno.xdev"></a>**`__WASI_EXDEV`**

    Cross-device link.

- <a href="#errno.notcapable" name="errno.notcapable"></a>**`__WASI_ENOTCAPABLE`**

    Extension: Capabilities insufficient.

### <a href="#event" name="event"></a>`__wasi_event_t` (`struct`)

An event that occurred.

Used by [`__wasi_poll()`](#poll).

Members:

- <a href="#event.userdata" name="event.userdata"></a><code>[\_\_wasi\_userdata\_t](#userdata) <strong>userdata</strong></code>

    User-provided value that got attached to
    [`__wasi_subscription_t::userdata`](#subscription.userdata).

- <a href="#event.error" name="event.error"></a><code>[\_\_wasi\_errno\_t](#errno) <strong>error</strong></code>

    If non-zero, an error that occurred while processing
    the subscription request.

- <a href="#event.type" name="event.type"></a><code>[\_\_wasi\_eventtype\_t](#eventtype) <strong>type</strong></code>

    The type of the event that occurred.

- When `type` is [`__WASI_EVENTTYPE_FD_READ`](#eventtype.fd_read) or [`__WASI_EVENTTYPE_FD_WRITE`](#eventtype.fd_write):

    - <a href="#event.fd_readwrite" name="event.fd_readwrite"></a>**`fd_readwrite`**

        - <a href="#event.fd_readwrite.nbytes" name="event.fd_readwrite.nbytes"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>nbytes</strong></code>

            The number of bytes available
            for reading or writing.

        - <a href="#event.fd_readwrite.flags" name="event.fd_readwrite.flags"></a><code>[\_\_wasi\_eventrwflags\_t](#eventrwflags) <strong>flags</strong></code>

            The state of the file
            descriptor.

### <a href="#eventrwflags" name="eventrwflags"></a>`__wasi_eventrwflags_t` (`uint16_t` bitfield)

The state of the file descriptor subscribed to with
[`__WASI_EVENTTYPE_FD_READ`](#eventtype.fd_read) or [`__WASI_EVENTTYPE_FD_WRITE`](#eventtype.fd_write).

Used by [`__wasi_event_t`](#event).

Possible values:

- <a href="#eventrwflags.hangup" name="eventrwflags.hangup"></a>**`__WASI_EVENT_FD_READWRITE_HANGUP`**

    The peer of this socket has closed or disconnected.

### <a href="#eventtype" name="eventtype"></a>`__wasi_eventtype_t` (`uint8_t`)

Type of a subscription to an event or its occurrence.

Used by [`__wasi_event_t`](#event) and [`__wasi_subscription_t`](#subscription).

Possible values:

- <a href="#eventtype.clock" name="eventtype.clock"></a>**`__WASI_EVENTTYPE_CLOCK`**

    The time value of clock [`__wasi_subscription_t::clock.clock_id`](#subscription.clock.clock_id)
    has reached timestamp [`__wasi_subscription_t::clock.timeout`](#subscription.clock.timeout).

- <a href="#eventtype.fd_read" name="eventtype.fd_read"></a>**`__WASI_EVENTTYPE_FD_READ`**

    File descriptor [`__wasi_subscription_t::fd_readwrite.fd`](#subscription.fd_readwrite.fd) has
    data available for reading. This event always triggers
    for regular files.

- <a href="#eventtype.fd_write" name="eventtype.fd_write"></a>**`__WASI_EVENTTYPE_FD_WRITE`**

    File descriptor [`__wasi_subscription_t::fd_readwrite.fd`](#subscription.fd_readwrite.fd) has
    capacity available for writing. This event always
    triggers for regular files.

### <a href="#exitcode" name="exitcode"></a>`__wasi_exitcode_t` (`uint32_t`)

Exit code generated by a process when exiting.

Used by [`__wasi_event_t`](#event) and [`__wasi_proc_exit()`](#proc_exit).

### <a href="#fd" name="fd"></a>`__wasi_fd_t` (`uint32_t`)

A file descriptor number.

As on POSIX-compliant systems, three file descriptor numbers are
provided to instances on startup -- 0, 1, and 2, (a.k.a. `STDIN_FILENO`,
`STDOUT_FILENO`, and `STDERR_FILENO`).

Other than these, WASI implementations are not required to allocate
new file descriptors in ascending order.

### <a href="#fdflags" name="fdflags"></a>`__wasi_fdflags_t` (`uint16_t` bitfield)

File descriptor flags.

Used by [`__wasi_fdstat_t`](#fdstat).

Possible values:

- <a href="#fdflags.append" name="fdflags.append"></a>**`__WASI_FDFLAG_APPEND`**

    Append mode: Data written to the file is always
    appended to the file's end.

- <a href="#fdflags.dsync" name="fdflags.dsync"></a>**`__WASI_FDFLAG_DSYNC`**

    Write according to synchronized I/O data integrity
    completion. Only the data stored in the file is
    synchronized.

- <a href="#fdflags.nonblock" name="fdflags.nonblock"></a>**`__WASI_FDFLAG_NONBLOCK`**

    Non-blocking mode.

- <a href="#fdflags.rsync" name="fdflags.rsync"></a>**`__WASI_FDFLAG_RSYNC`**

    Synchronized read I/O operations.

- <a href="#fdflags.sync" name="fdflags.sync"></a>**`__WASI_FDFLAG_SYNC`**

    Write according to synchronized I/O file integrity
    completion. In addition to synchronizing the data
    stored in the file, the system may also synchronously
    update the file's metadata.

### <a href="#fdsflags" name="fdsflags"></a>`__wasi_fdsflags_t` (`uint16_t` bitfield)

Which file descriptor attributes to adjust.

Used by [`__wasi_fd_stat_put()`](#fd_stat_put).

Possible values:

- <a href="#fdsflags.flags" name="fdsflags.flags"></a>**`__WASI_FDSTAT_FLAGS`**

    Adjust the file descriptor flags stored in
    [`__wasi_fdstat_t::fs_flags`](#fdstat.fs_flags).

- <a href="#fdsflags.rights" name="fdsflags.rights"></a>**`__WASI_FDSTAT_RIGHTS`**

    Restrict the rights of the file descriptor to the
    rights stored in [`__wasi_fdstat_t::fs_rights_base`](#fdstat.fs_rights_base) and
    [`__wasi_fdstat_t::fs_rights_inheriting`](#fdstat.fs_rights_inheriting).

### <a href="#fdstat" name="fdstat"></a>`__wasi_fdstat_t` (`struct`)

File descriptor attributes.

Used by [`__wasi_fd_stat_get()`](#fd_stat_get), [`__wasi_fd_stat_put()`](#fd_stat_put), and [`__wasi_file_open()`](#file_open).

Members:

- <a href="#fdstat.fs_filetype" name="fdstat.fs_filetype"></a><code>[\_\_wasi\_filetype\_t](#filetype) <strong>fs\_filetype</strong></code>

    File type.

- <a href="#fdstat.fs_flags" name="fdstat.fs_flags"></a><code>[\_\_wasi\_fdflags\_t](#fdflags) <strong>fs\_flags</strong></code>

    File descriptor flags.

- <a href="#fdstat.fs_rights_base" name="fdstat.fs_rights_base"></a><code>[\_\_wasi\_rights\_t](#rights) <strong>fs\_rights\_base</strong></code>

    Rights that apply to this file descriptor.

- <a href="#fdstat.fs_rights_inheriting" name="fdstat.fs_rights_inheriting"></a><code>[\_\_wasi\_rights\_t](#rights) <strong>fs\_rights\_inheriting</strong></code>

    Maximum set of rights that can be installed on new
    file descriptors that are created through this file
    descriptor, e.g., through [`__wasi_file_open()`](#file_open).

### <a href="#filedelta" name="filedelta"></a>`__wasi_filedelta_t` (`int64_t`)

Relative offset within a file.

Used by [`__wasi_fd_seek()`](#fd_seek).

### <a href="#filesize" name="filesize"></a>`__wasi_filesize_t` (`uint64_t`)

Non-negative file size or length of a region within a file.

Used by [`__wasi_event_t`](#event), [`__wasi_filestat_t`](#filestat), [`__wasi_fd_pread()`](#fd_pread), [`__wasi_fd_pwrite()`](#fd_pwrite), [`__wasi_fd_seek()`](#fd_seek), [`__wasi_file_advise()`](#file_advise), and [`__wasi_file_allocate()`](#file_allocate).

### <a href="#filestat" name="filestat"></a>`__wasi_filestat_t` (`struct`)

File attributes.

Used by [`__wasi_file_stat_fget()`](#file_stat_fget), [`__wasi_file_stat_fput()`](#file_stat_fput), [`__wasi_file_stat_get()`](#file_stat_get), and [`__wasi_file_stat_put()`](#file_stat_put).

Members:

- <a href="#filestat.st_dev" name="filestat.st_dev"></a><code>[\_\_wasi\_device\_t](#device) <strong>st\_dev</strong></code>

    Device ID of device containing the file.

- <a href="#filestat.st_ino" name="filestat.st_ino"></a><code>[\_\_wasi\_inode\_t](#inode) <strong>st\_ino</strong></code>

    File serial number.

- <a href="#filestat.st_filetype" name="filestat.st_filetype"></a><code>[\_\_wasi\_filetype\_t](#filetype) <strong>st\_filetype</strong></code>

    File type.

- <a href="#filestat.st_nlink" name="filestat.st_nlink"></a><code>[\_\_wasi\_linkcount\_t](#linkcount) <strong>st\_nlink</strong></code>

    Number of hard links to the file.

- <a href="#filestat.st_size" name="filestat.st_size"></a><code>[\_\_wasi\_filesize\_t](#filesize) <strong>st\_size</strong></code>

    For regular files, the file size in bytes. For
    symbolic links, the length in bytes of the pathname
    contained in the symbolic link.

- <a href="#filestat.st_atim" name="filestat.st_atim"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>st\_atim</strong></code>

    Last data access timestamp.

- <a href="#filestat.st_mtim" name="filestat.st_mtim"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>st\_mtim</strong></code>

    Last data modification timestamp.

- <a href="#filestat.st_ctim" name="filestat.st_ctim"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>st\_ctim</strong></code>

    Last file status change timestamp.

### <a href="#filetype" name="filetype"></a>`__wasi_filetype_t` (`uint8_t`)

The type of a file descriptor or file.

Used by [`__wasi_dirent_t`](#dirent), [`__wasi_fdstat_t`](#fdstat), [`__wasi_filestat_t`](#filestat), [`__wasi_fd_create2()`](#fd_create2), and [`__wasi_file_create()`](#file_create).

Possible values:

- <a href="#filetype.unknown" name="filetype.unknown"></a>**`__WASI_FILETYPE_UNKNOWN`**

    The type of the file descriptor or file is unknown or
    is different from any of the other types specified.

- <a href="#filetype.block_device" name="filetype.block_device"></a>**`__WASI_FILETYPE_BLOCK_DEVICE`**

    The file descriptor or file refers to a block device
    inode.

- <a href="#filetype.character_device" name="filetype.character_device"></a>**`__WASI_FILETYPE_CHARACTER_DEVICE`**

    The file descriptor or file refers to a character
    device inode.

- <a href="#filetype.directory" name="filetype.directory"></a>**`__WASI_FILETYPE_DIRECTORY`**

    The file descriptor or file refers to a directory
    inode.

- <a href="#filetype.regular_file" name="filetype.regular_file"></a>**`__WASI_FILETYPE_REGULAR_FILE`**

    The file descriptor or file refers to a regular file
    inode.

- <a href="#filetype.socket_dgram" name="filetype.socket_dgram"></a>**`__WASI_FILETYPE_SOCKET_DGRAM`**

    The file descriptor or file refers to a datagram
    socket.

- <a href="#filetype.socket_stream" name="filetype.socket_stream"></a>**`__WASI_FILETYPE_SOCKET_STREAM`**

    The file descriptor or file refers to a byte-stream
    socket.

- <a href="#filetype.symbolic_link" name="filetype.symbolic_link"></a>**`__WASI_FILETYPE_SYMBOLIC_LINK`**

    The file refers to a symbolic link inode.

### <a href="#fsflags" name="fsflags"></a>`__wasi_fsflags_t` (`uint16_t` bitfield)

Which file attributes to adjust.

Used by [`__wasi_file_stat_fput()`](#file_stat_fput) and [`__wasi_file_stat_put()`](#file_stat_put).

Possible values:

- <a href="#fsflags.atim" name="fsflags.atim"></a>**`__WASI_FILESTAT_ATIM`**

    Adjust the last data access timestamp to the value
    stored in [`__wasi_filestat_t::st_atim`](#filestat.st_atim).

- <a href="#fsflags.atim_now" name="fsflags.atim_now"></a>**`__WASI_FILESTAT_ATIM_NOW`**

    Adjust the last data access timestamp to the time
    of clock [`__WASI_CLOCK_REALTIME`](#clockid.realtime).

- <a href="#fsflags.mtim" name="fsflags.mtim"></a>**`__WASI_FILESTAT_MTIM`**

    Adjust the last data modification timestamp to the
    value stored in [`__wasi_filestat_t::st_mtim`](#filestat.st_mtim).

- <a href="#fsflags.mtim_now" name="fsflags.mtim_now"></a>**`__WASI_FILESTAT_MTIM_NOW`**

    Adjust the last data modification timestamp to the
    time of clock [`__WASI_CLOCK_REALTIME`](#clockid.realtime).

- <a href="#fsflags.size" name="fsflags.size"></a>**`__WASI_FILESTAT_SIZE`**

    Truncate or extend the file to the size stored in
    [`__wasi_filestat_t::st_size`](#filestat.st_size).

### <a href="#inode" name="inode"></a>`__wasi_inode_t` (`uint64_t`)

File serial number that is unique within its file system.

Used by [`__wasi_dirent_t`](#dirent) and [`__wasi_filestat_t`](#filestat).

### <a href="#iovec" name="iovec"></a>`__wasi_iovec_t` (`struct`)

A region of memory for scatter/gather reads.

Used by [`__wasi_recv_in_t`](#recv_in), [`__wasi_fd_pread()`](#fd_pread), and [`__wasi_fd_read()`](#fd_read).

Members:

- <a href="#iovec.buf" name="iovec.buf"></a><code>void *<strong>buf</strong></code> and <a href="#iovec.buf_len" name="iovec.buf_len"></a><code>size\_t <strong>buf\_len</strong></code>

    The address and length of the buffer to be filled.

### <a href="#linkcount" name="linkcount"></a>`__wasi_linkcount_t` (`uint32_t`)

Number of hard links to an inode.

Used by [`__wasi_filestat_t`](#filestat).

### <a href="#lookup" name="lookup"></a>`__wasi_lookup_t` (`struct`)

Path lookup properties.

Used by [`__wasi_file_link()`](#file_link), [`__wasi_file_open()`](#file_open), [`__wasi_file_stat_get()`](#file_stat_get), and [`__wasi_file_stat_put()`](#file_stat_put).

Members:

- <a href="#lookup.fd" name="lookup.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

    The working directory at which the resolution of the
    path starts.

- <a href="#lookup.flags" name="lookup.flags"></a><code>[\_\_wasi\_lookupflags\_t](#lookupflags) <strong>flags</strong></code>

    Flags determining the method of how the path is
    resolved.

### <a href="#lookupflags" name="lookupflags"></a>`__wasi_lookupflags_t` (`uint32_t` bitfield)

Flags determining the method of how paths are resolved.

Used by [`__wasi_lookup_t`](#lookup).

Possible values:

- <a href="#lookupflags.symlink_follow" name="lookupflags.symlink_follow"></a>**`__WASI_LOOKUP_SYMLINK_FOLLOW`**

    As long as the resolved path corresponds to a symbolic
    link, it is expanded.

### <a href="#oflags" name="oflags"></a>`__wasi_oflags_t` (`uint16_t` bitfield)

Open flags used by [`__wasi_file_open()`](#file_open).

Possible values:

- <a href="#oflags.creat" name="oflags.creat"></a>**`__WASI_O_CREAT`**

    Create file if it does not exist.

- <a href="#oflags.directory" name="oflags.directory"></a>**`__WASI_O_DIRECTORY`**

    Fail if not a directory.

- <a href="#oflags.excl" name="oflags.excl"></a>**`__WASI_O_EXCL`**

    Fail if file already exists.

- <a href="#oflags.trunc" name="oflags.trunc"></a>**`__WASI_O_TRUNC`**

    Truncate file to size 0.

### <a href="#recv_in" name="recv_in"></a>`__wasi_recv_in_t` (`struct`)

Arguments of [`__wasi_sock_recv()`](#sock_recv).

Members:

- <a href="#recv_in.ri_data" name="recv_in.ri_data"></a><code>const [\_\_wasi\_iovec\_t](#iovec) *<strong>ri\_data</strong></code> and <a href="#recv_in.ri_data_len" name="recv_in.ri_data_len"></a><code>size\_t <strong>ri\_data\_len</strong></code>

    List of scatter/gather vectors where message data
    should be stored.

- <a href="#recv_in.ri_fds" name="recv_in.ri_fds"></a><code>[\_\_wasi\_fd\_t](#fd) *<strong>ri\_fds</strong></code> and <a href="#recv_in.ri_fds_len" name="recv_in.ri_fds_len"></a><code>size\_t <strong>ri\_fds\_len</strong></code>

    Buffer where numbers of incoming file descriptors
    should be stored.

- <a href="#recv_in.ri_flags" name="recv_in.ri_flags"></a><code>[\_\_wasi\_riflags\_t](#riflags) <strong>ri\_flags</strong></code>

    Message flags.

### <a href="#recv_out" name="recv_out"></a>`__wasi_recv_out_t` (`struct`)

Results of [`__wasi_sock_recv()`](#sock_recv).

Members:

- <a href="#recv_out.ro_datalen" name="recv_out.ro_datalen"></a><code>size\_t <strong>ro\_datalen</strong></code>

    Number of bytes stored in [`__wasi_recv_in_t::ri_data`](#recv_in.ri_data).

- <a href="#recv_out.ro_fdslen" name="recv_out.ro_fdslen"></a><code>size\_t <strong>ro\_fdslen</strong></code>

    Number of file descriptors stored in [`__wasi_recv_in_t::ri_fds`](#recv_in.ri_fds).

- <a href="#recv_out.ro_flags" name="recv_out.ro_flags"></a><code>[\_\_wasi\_roflags\_t](#roflags) <strong>ro\_flags</strong></code>

    Message flags.

### <a href="#riflags" name="riflags"></a>`__wasi_riflags_t` (`uint16_t` bitfield)

Flags provided to [`__wasi_sock_recv()`](#sock_recv).

Used by [`__wasi_recv_in_t`](#recv_in).

Possible values:

- <a href="#riflags.peek" name="riflags.peek"></a>**`__WASI_SOCK_RECV_PEEK`**

    Returns the message without removing it from the
    socket's receive queue.

- <a href="#riflags.waitall" name="riflags.waitall"></a>**`__WASI_SOCK_RECV_WAITALL`**

    On byte-stream sockets, block until the full amount
    of data can be returned.

### <a href="#rights" name="rights"></a>`__wasi_rights_t` (`uint64_t` bitfield)

File descriptor rights, determining which actions may be
performed.

Used by [`__wasi_fdstat_t`](#fdstat).

Possible values:

- <a href="#rights.fd_datasync" name="rights.fd_datasync"></a>**`__WASI_RIGHT_FD_DATASYNC`**

    The right to invoke [`__wasi_fd_datasync()`](#fd_datasync).

    If [`__WASI_RIGHT_FILE_OPEN`](#rights.file_open) is set, includes the right to
    invoke [`__wasi_file_open()`](#file_open) with [`__WASI_FDFLAG_DSYNC`](#fdflags.dsync).

- <a href="#rights.fd_read" name="rights.fd_read"></a>**`__WASI_RIGHT_FD_READ`**

    The right to invoke [`__wasi_fd_read()`](#fd_read) and [`__wasi_sock_recv()`](#sock_recv).

    If [`__WASI_RIGHT_FD_SEEK`](#rights.fd_seek) is set, includes the right to invoke
    [`__wasi_fd_pread()`](#fd_pread).

- <a href="#rights.fd_seek" name="rights.fd_seek"></a>**`__WASI_RIGHT_FD_SEEK`**

    The right to invoke [`__wasi_fd_seek()`](#fd_seek). This flag implies
    [`__WASI_RIGHT_FD_TELL`](#rights.fd_tell).

- <a href="#rights.fd_stat_put_flags" name="rights.fd_stat_put_flags"></a>**`__WASI_RIGHT_FD_STAT_PUT_FLAGS`**

    The right to invoke [`__wasi_fd_stat_put()`](#fd_stat_put) with
    [`__WASI_FDSTAT_FLAGS`](#fdsflags.flags).

- <a href="#rights.fd_sync" name="rights.fd_sync"></a>**`__WASI_RIGHT_FD_SYNC`**

    The right to invoke [`__wasi_fd_sync()`](#fd_sync).

    If [`__WASI_RIGHT_FILE_OPEN`](#rights.file_open) is set, includes the right to
    invoke [`__wasi_file_open()`](#file_open) with [`__WASI_FDFLAG_RSYNC`](#fdflags.rsync) and
    [`__WASI_FDFLAG_DSYNC`](#fdflags.dsync).

- <a href="#rights.fd_tell" name="rights.fd_tell"></a>**`__WASI_RIGHT_FD_TELL`**

    The right to invoke [`__wasi_fd_seek()`](#fd_seek) in such a way that the
    file offset remains unaltered (i.e., [`__WASI_WHENCE_CUR`](#whence.cur) with
    offset zero).

- <a href="#rights.fd_write" name="rights.fd_write"></a>**`__WASI_RIGHT_FD_WRITE`**

    The right to invoke [`__wasi_fd_write()`](#fd_write) and [`__wasi_sock_send()`](#sock_send).

    If [`__WASI_RIGHT_FD_SEEK`](#rights.fd_seek) is set, includes the right to
    invoke [`__wasi_fd_pwrite()`](#fd_pwrite).

- <a href="#rights.file_advise" name="rights.file_advise"></a>**`__WASI_RIGHT_FILE_ADVISE`**

    The right to invoke [`__wasi_file_advise()`](#file_advise).

- <a href="#rights.file_allocate" name="rights.file_allocate"></a>**`__WASI_RIGHT_FILE_ALLOCATE`**

    The right to invoke [`__wasi_file_allocate()`](#file_allocate).

- <a href="#rights.file_create_directory" name="rights.file_create_directory"></a>**`__WASI_RIGHT_FILE_CREATE_DIRECTORY`**

    The right to invoke [`__wasi_file_create()`](#file_create) with
    [`__WASI_FILETYPE_DIRECTORY`](#filetype.directory).

- <a href="#rights.file_create_file" name="rights.file_create_file"></a>**`__WASI_RIGHT_FILE_CREATE_FILE`**

    If [`__WASI_RIGHT_FILE_OPEN`](#rights.file_open) is set, the right to invoke
    [`__wasi_file_open()`](#file_open) with [`__WASI_O_CREAT`](#oflags.creat).

- <a href="#rights.file_link_source" name="rights.file_link_source"></a>**`__WASI_RIGHT_FILE_LINK_SOURCE`**

    The right to invoke [`__wasi_file_link()`](#file_link) with the file
    descriptor as the source directory.

- <a href="#rights.file_link_target" name="rights.file_link_target"></a>**`__WASI_RIGHT_FILE_LINK_TARGET`**

    The right to invoke [`__wasi_file_link()`](#file_link) with the file
    descriptor as the target directory.

- <a href="#rights.file_open" name="rights.file_open"></a>**`__WASI_RIGHT_FILE_OPEN`**

    The right to invoke [`__wasi_file_open()`](#file_open).

- <a href="#rights.file_readdir" name="rights.file_readdir"></a>**`__WASI_RIGHT_FILE_READDIR`**

    The right to invoke [`__wasi_file_readdir()`](#file_readdir).

- <a href="#rights.file_readlink" name="rights.file_readlink"></a>**`__WASI_RIGHT_FILE_READLINK`**

    The right to invoke [`__wasi_file_readlink()`](#file_readlink).

- <a href="#rights.file_rename_source" name="rights.file_rename_source"></a>**`__WASI_RIGHT_FILE_RENAME_SOURCE`**

    The right to invoke [`__wasi_file_rename()`](#file_rename) with the file
    descriptor as the source directory.

- <a href="#rights.file_rename_target" name="rights.file_rename_target"></a>**`__WASI_RIGHT_FILE_RENAME_TARGET`**

    The right to invoke [`__wasi_file_rename()`](#file_rename) with the file
    descriptor as the target directory.

- <a href="#rights.file_stat_fget" name="rights.file_stat_fget"></a>**`__WASI_RIGHT_FILE_STAT_FGET`**

    The right to invoke [`__wasi_file_stat_fget()`](#file_stat_fget).

- <a href="#rights.file_stat_fput_size" name="rights.file_stat_fput_size"></a>**`__WASI_RIGHT_FILE_STAT_FPUT_SIZE`**

    The right to invoke [`__wasi_file_stat_fput()`](#file_stat_fput) with
    [`__WASI_FILESTAT_SIZE`](#fsflags.size).

    If [`__WASI_RIGHT_FILE_OPEN`](#rights.file_open) is set, includes the right to
    invoke [`__wasi_file_open()`](#file_open) with [`__WASI_O_TRUNC`](#oflags.trunc).

- <a href="#rights.file_stat_fput_times" name="rights.file_stat_fput_times"></a>**`__WASI_RIGHT_FILE_STAT_FPUT_TIMES`**

    The right to invoke [`__wasi_file_stat_fput()`](#file_stat_fput) with
    [`__WASI_FILESTAT_ATIM`](#fsflags.atim), [`__WASI_FILESTAT_ATIM_NOW`](#fsflags.atim_now), [`__WASI_FILESTAT_MTIM`](#fsflags.mtim),
    and [`__WASI_FILESTAT_MTIM_NOW`](#fsflags.mtim_now).

- <a href="#rights.file_stat_get" name="rights.file_stat_get"></a>**`__WASI_RIGHT_FILE_STAT_GET`**

    The right to invoke [`__wasi_file_stat_get()`](#file_stat_get).

- <a href="#rights.file_stat_put_times" name="rights.file_stat_put_times"></a>**`__WASI_RIGHT_FILE_STAT_PUT_TIMES`**

    The right to invoke [`__wasi_file_stat_put()`](#file_stat_put) with
    [`__WASI_FILESTAT_ATIM`](#fsflags.atim), [`__WASI_FILESTAT_ATIM_NOW`](#fsflags.atim_now), [`__WASI_FILESTAT_MTIM`](#fsflags.mtim),
    and [`__WASI_FILESTAT_MTIM_NOW`](#fsflags.mtim_now).

- <a href="#rights.file_symlink" name="rights.file_symlink"></a>**`__WASI_RIGHT_FILE_SYMLINK`**

    The right to invoke [`__wasi_file_symlink()`](#file_symlink).

- <a href="#rights.file_unlink" name="rights.file_unlink"></a>**`__WASI_RIGHT_FILE_UNLINK`**

    The right to invoke [`__wasi_file_unlink()`](#file_unlink).

- <a href="#rights.poll_fd_readwrite" name="rights.poll_fd_readwrite"></a>**`__WASI_RIGHT_POLL_FD_READWRITE`**

    If [`__WASI_RIGHT_FD_READ`](#rights.fd_read) is set, includes the right to
    invoke [`__wasi_poll()`](#poll) to subscribe to [`__WASI_EVENTTYPE_FD_READ`](#eventtype.fd_read).

    If [`__WASI_RIGHT_FD_WRITE`](#rights.fd_write) is set, includes the right to
    invoke [`__wasi_poll()`](#poll) to subscribe to [`__WASI_EVENTTYPE_FD_WRITE`](#eventtype.fd_write).

- <a href="#rights.sock_shutdown" name="rights.sock_shutdown"></a>**`__WASI_RIGHT_SOCK_SHUTDOWN`**

    The right to invoke [`__wasi_sock_shutdown()`](#sock_shutdown).

### <a href="#roflags" name="roflags"></a>`__wasi_roflags_t` (`uint16_t` bitfield)

Flags returned by [`__wasi_sock_recv()`](#sock_recv).

Used by [`__wasi_recv_out_t`](#recv_out).

Possible values:

- <a href="#roflags.fds_truncated" name="roflags.fds_truncated"></a>**`__WASI_SOCK_RECV_FDS_TRUNCATED`**

    Returned by [`__wasi_sock_recv()`](#sock_recv): List of file descriptors
    has been truncated.

- <a href="#roflags.data_truncated" name="roflags.data_truncated"></a>**`__WASI_SOCK_RECV_DATA_TRUNCATED`**

    Returned by [`__wasi_sock_recv()`](#sock_recv): Message data has been
    truncated.

### <a href="#sdflags" name="sdflags"></a>`__wasi_sdflags_t` (`uint8_t` bitfield)

Which channels on a socket need to be shut down.

Used by [`__wasi_sock_shutdown()`](#sock_shutdown).

Possible values:

- <a href="#sdflags.rd" name="sdflags.rd"></a>**`__WASI_SHUT_RD`**

    Disables further receive operations.

- <a href="#sdflags.wr" name="sdflags.wr"></a>**`__WASI_SHUT_WR`**

    Disables further send operations.

### <a href="#send_in" name="send_in"></a>`__wasi_send_in_t` (`struct`)

Arguments of [`__wasi_sock_send()`](#sock_send).

Members:

- <a href="#send_in.si_data" name="send_in.si_data"></a><code>const [\_\_wasi\_ciovec\_t](#ciovec) *<strong>si\_data</strong></code> and <a href="#send_in.si_data_len" name="send_in.si_data_len"></a><code>size\_t <strong>si\_data\_len</strong></code>

    List of scatter/gather vectors where message data
    should be retrieved.

- <a href="#send_in.si_fds" name="send_in.si_fds"></a><code>const [\_\_wasi\_fd\_t](#fd) *<strong>si\_fds</strong></code> and <a href="#send_in.si_fds_len" name="send_in.si_fds_len"></a><code>size\_t <strong>si\_fds\_len</strong></code>

    File descriptors that need to be attached to the
    message.

- <a href="#send_in.si_flags" name="send_in.si_flags"></a><code>[\_\_wasi\_siflags\_t](#siflags) <strong>si\_flags</strong></code>

    Message flags.

### <a href="#send_out" name="send_out"></a>`__wasi_send_out_t` (`struct`)

Results of [`__wasi_sock_send()`](#sock_send).

Members:

- <a href="#send_out.so_datalen" name="send_out.so_datalen"></a><code>size\_t <strong>so\_datalen</strong></code>

    Number of bytes transmitted.

### <a href="#siflags" name="siflags"></a>`__wasi_siflags_t` (`uint16_t` bitfield)

Flags provided to [`__wasi_sock_send()`](#sock_send). As there are currently no flags
defined, it must be set to zero.

Used by [`__wasi_send_in_t`](#send_in).

### <a href="#signal" name="signal"></a>`__wasi_signal_t` (`uint8_t`)

Signal condition.

Used by [`__wasi_event_t`](#event) and [`__wasi_proc_raise()`](#proc_raise).

Possible values:

- <a href="#signal.abrt" name="signal.abrt"></a>**`__WASI_SIGABRT`**

    Process abort signal.

    Action: Terminates the process.

- <a href="#signal.alrm" name="signal.alrm"></a>**`__WASI_SIGALRM`**

    Alarm clock.

    Action: Terminates the process.

- <a href="#signal.bus" name="signal.bus"></a>**`__WASI_SIGBUS`**

    Access to an undefined portion of a memory object.

    Action: Terminates the process.

- <a href="#signal.chld" name="signal.chld"></a>**`__WASI_SIGCHLD`**

    Child process terminated, stopped, or continued.

    Action: Ignored.

- <a href="#signal.cont" name="signal.cont"></a>**`__WASI_SIGCONT`**

    Continue executing, if stopped.

    Action: Continues executing, if stopped.

- <a href="#signal.fpe" name="signal.fpe"></a>**`__WASI_SIGFPE`**

    Erroneous arithmetic operation.

    Action: Terminates the process.

- <a href="#signal.hup" name="signal.hup"></a>**`__WASI_SIGHUP`**

    Hangup.

    Action: Terminates the process.

- <a href="#signal.ill" name="signal.ill"></a>**`__WASI_SIGILL`**

    Illegal instruction.

    Action: Terminates the process.

- <a href="#signal.int" name="signal.int"></a>**`__WASI_SIGINT`**

    Terminate interrupt signal.

    Action: Terminates the process.

- <a href="#signal.kill" name="signal.kill"></a>**`__WASI_SIGKILL`**

    Kill.

    Action: Terminates the process.

- <a href="#signal.pipe" name="signal.pipe"></a>**`__WASI_SIGPIPE`**

    Write on a pipe with no one to read it.

    Action: Ignored.

- <a href="#signal.quit" name="signal.quit"></a>**`__WASI_SIGQUIT`**

    Terminal quit signal.

    Action: Terminates the process.

- <a href="#signal.segv" name="signal.segv"></a>**`__WASI_SIGSEGV`**

    Invalid memory reference.

    Action: Terminates the process.

- <a href="#signal.stop" name="signal.stop"></a>**`__WASI_SIGSTOP`**

    Stop executing.

    Action: Stops executing.

- <a href="#signal.sys" name="signal.sys"></a>**`__WASI_SIGSYS`**

    Bad system call.

    Action: Terminates the process.

- <a href="#signal.term" name="signal.term"></a>**`__WASI_SIGTERM`**

    Termination signal.

    Action: Terminates the process.

- <a href="#signal.trap" name="signal.trap"></a>**`__WASI_SIGTRAP`**

    Trace/breakpoint trap.

    Action: Terminates the process.

- <a href="#signal.tstp" name="signal.tstp"></a>**`__WASI_SIGTSTP`**

    Terminal stop signal.

    Action: Stops executing.

- <a href="#signal.ttin" name="signal.ttin"></a>**`__WASI_SIGTTIN`**

    Background process attempting read.

    Action: Stops executing.

- <a href="#signal.ttou" name="signal.ttou"></a>**`__WASI_SIGTTOU`**

    Background process attempting write.

    Action: Stops executing.

- <a href="#signal.urg" name="signal.urg"></a>**`__WASI_SIGURG`**

    High bandwidth data is available at a socket.

    Action: Ignored.

- <a href="#signal.usr1" name="signal.usr1"></a>**`__WASI_SIGUSR1`**

    User-defined signal 1.

    Action: Terminates the process.

- <a href="#signal.usr2" name="signal.usr2"></a>**`__WASI_SIGUSR2`**

    User-defined signal 2.

    Action: Terminates the process.

- <a href="#signal.vtalrm" name="signal.vtalrm"></a>**`__WASI_SIGVTALRM`**

    Virtual timer expired.

    Action: Terminates the process.

- <a href="#signal.xcpu" name="signal.xcpu"></a>**`__WASI_SIGXCPU`**

    CPU time limit exceeded.

    Action: Terminates the process.

- <a href="#signal.xfsz" name="signal.xfsz"></a>**`__WASI_SIGXFSZ`**

    File size limit exceeded.

    Action: Terminates the process.

### <a href="#subclockflags" name="subclockflags"></a>`__wasi_subclockflags_t` (`uint16_t` bitfield)

Flags determining how the timestamp provided in
[`__wasi_subscription_t::clock.timeout`](#subscription.clock.timeout) should be interpreted.

Used by [`__wasi_subscription_t`](#subscription).

Possible values:

- <a href="#subclockflags.abstime" name="subclockflags.abstime"></a>**`__WASI_SUBSCRIPTION_CLOCK_ABSTIME`**

    If set, treat the timestamp provided in
    [`__wasi_subscription_t::clock.timeout`](#subscription.clock.timeout) as an absolute timestamp
    of clock [`__wasi_subscription_t::clock.clock_id`](#subscription.clock.clock_id).

    If clear, treat the timestamp provided in
    [`__wasi_subscription_t::clock.timeout`](#subscription.clock.timeout) relative to the current
    time value of clock [`__wasi_subscription_t::clock.clock_id`](#subscription.clock.clock_id).

### <a href="#subrwflags" name="subrwflags"></a>`__wasi_subrwflags_t` (`uint16_t` bitfield)

Flags influencing the method of polling for read or writing on
a file descriptor.

Used by [`__wasi_subscription_t`](#subscription).

Possible values:

- <a href="#subrwflags.poll" name="subrwflags.poll"></a>**`__WASI_SUBSCRIPTION_FD_READWRITE_POLL`**

    Deprecated. Must be set by callers and ignored by
    implementations.

### <a href="#subscription" name="subscription"></a>`__wasi_subscription_t` (`struct`)

Subscription to an event.

Used by [`__wasi_poll()`](#poll).

Members:

- <a href="#subscription.userdata" name="subscription.userdata"></a><code>[__wasi\_userdata\_t](#userdata) <strong>userdata</strong></code>

    User-provided value that is attached to the
    subscription in the kernel and returned through
    [`__wasi_event_t::userdata`](#event.userdata).

- <a href="#subscription.type" name="subscription.type"></a><code>[__wasi\_eventtype\_t](#eventtype) <strong>type</strong></code>

    The type of the event to which to subscribe.

- When `type` is [`__WASI_EVENTTYPE_CLOCK`](#eventtype.clock):

    - <a href="#subscription.clock" name="subscription.clock"></a>**`clock`**

        - <a href="#subscription.clock.identifier" name="subscription.clock.identifier"></a><code>[__wasi\_userdata\_t](#userdata) <strong>identifier</strong></code>

            The user-defined unique
            identifier of the clock.

        - <a href="#subscription.clock.clock_id" name="subscription.clock.clock_id"></a><code>[\_\_wasi\_clockid\_t](#clockid) <strong>clock\_id</strong></code>

            The clock against which the
            timestamp should be compared.

        - <a href="#subscription.clock.timeout" name="subscription.clock.timeout"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>timeout</strong></code>

            The absolute or relative
            timestamp.

        - <a href="#subscription.clock.precision" name="subscription.clock.precision"></a><code>[\_\_wasi\_timestamp\_t](#timestamp) <strong>precision</strong></code>

            The amount of time that the
            kernel may wait additionally
            to coalesce with other events.

        - <a href="#subscription.clock.flags" name="subscription.clock.flags"></a><code>[\_\_wasi\_subclockflags\_t](#subclockflags) <strong>flags</strong></code>

            Flags specifying whether the
            timeout is absolute or
            relative.

- When `type` is [`__WASI_EVENTTYPE_FD_READ`](#eventtype.fd_read) or [`__WASI_EVENTTYPE_FD_WRITE`](#eventtype.fd_write):

    - <a href="#subscription.fd_readwrite" name="subscription.fd_readwrite"></a>**`fd_readwrite`**

        - <a href="#subscription.fd_readwrite.fd" name="subscription.fd_readwrite.fd"></a><code>[\_\_wasi\_fd\_t](#fd) <strong>fd</strong></code>

            The file descriptor on which
            to wait for it to become ready
            for reading or writing.

        - <a href="#subscription.fd_readwrite.flags" name="subscription.fd_readwrite.flags"></a><code>[\_\_wasi\_subrwflags\_t](#subrwflags) <strong>flags</strong></code>

            Under which conditions to
            trigger.

### <a href="#timestamp" name="timestamp"></a>`__wasi_timestamp_t` (`uint64_t`)

Timestamp in nanoseconds.

Used by [`__wasi_filestat_t`](#filestat), [`__wasi_subscription_t`](#subscription), [`__wasi_clock_res_get()`](#clock_res_get), and [`__wasi_clock_time_get()`](#clock_time_get).

### <a href="#ulflags" name="ulflags"></a>`__wasi_ulflags_t` (`uint8_t` bitfield)

Specifies whether files are unlinked or directories are
removed.

Used by [`__wasi_file_unlink()`](#file_unlink).

Possible values:

- <a href="#ulflags.removedir" name="ulflags.removedir"></a>**`__WASI_UNLINK_REMOVEDIR`**

    If set, removes a directory. Otherwise, unlinks any
    non-directory file.

### <a href="#userdata" name="userdata"></a>`__wasi_userdata_t` (`uint64_t`)

User-provided value that can be attached to objects that is
retained when extracted from the kernel.

Used by [`__wasi_event_t`](#event) and [`__wasi_subscription_t`](#subscription).

### <a href="#whence" name="whence"></a>`__wasi_whence_t` (`uint8_t`)

Relative to which position the offset of the file descriptor
should be set.

Used by [`__wasi_fd_seek()`](#fd_seek).

Possible values:

- <a href="#whence.cur" name="whence.cur"></a>**`__WASI_WHENCE_CUR`**

    Seek relative to current position.

- <a href="#whence.end" name="whence.end"></a>**`__WASI_WHENCE_END`**

    Seek relative to end-of-file.

- <a href="#whence.set" name="whence.set"></a>**`__WASI_WHENCE_SET`**

    Seek relative to start-of-file.

